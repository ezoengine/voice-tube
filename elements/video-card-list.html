<link rel="import" href="video-card.html">
<polymer-element name="video-card-list">
    <template>
        <data-base id='db' url="https://voice-tube.firebaseio.com"></data-base>
        <link rel='stylesheet' href="video-card-list.css">
        <div>
            <template id='tmpl' repeat='{{v in videos}}'>
                <video-card name='{{v.name}}' vid='{{v.vid}}' youtubeid='{{v.youtubeid}}' amt='{{v.amt}}'>
                </video-card>
            </template>
        </div>
    </template>
    <script>
    (function() {
        Polymer({
            videos: [],
            ready: function() {
                var my = this;
                this.$.db.query('videos', function(data) {
                    my.$.db.query('order', function(list) {
                        list = list.split(',');
                        var videoList = [];
                        for (var i in list) {
                            var videoInfo = data[list[i]];
                            videoList.push(videoInfo);
                        }
                        my.videos = videoList;
                    });
                });
            }
        });
    })();
    </script>
</polymer-element>