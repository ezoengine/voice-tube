<html>

<head>
    <script src='bower_components/webcomponentsjs/webcomponents.js'></script>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid+Sans+Mono">
    <link rel='stylesheet' href="exam.css">
    <script src="elements/jquery-2.1.1.min.js"></script>
    <link rel="import" href="elements/data-base.html">
    <link rel="import" href="elements/my-exam.html">
    <link rel="import" href="elements/user-info.html">

</head>

<body unresolved fullbleed layout vertical>
    <user-info id='marty' name='marty'></user-info>
    <div id='board' class='board'>
        <div vertical layout end>
            <div id='score' class='score'></div>
            <div style="width:300px;text-align:center;margin:-60px 0 0 0">=</div>
        </div>
    </div>
    <div style='font-size:1.5em'>
        <div id='sc'></div>
        <div id='result'></div>
        <div id='speak'></div>
    </div>
    <data-base id='videos' url="https://voice-tube-cdn.firebaseio.com/videos">
    </data-base>
    <script>
    var youtubeid = 'rVGflF0mJ8o';
    addEventListener('polymer-ready', function() {
        videos = document.getElementById("videos");
        videos.query(youtubeid, function(data) {
            var en = data.en;
            var ne_new = [];
            ne_new.push(en[1]);
            //ne_new.push(en[11]);
            //ne_new.push(en[15]);
            //ne_new.push(en[21]);
            data.en = ne_new;
            localStorage.setItem(youtubeid, JSON.stringify(data));
            var exam = "<voice-tube id='v' youtubeid='" +
                youtubeid + "' size='32'></voice-tube>";
            $('body').append(exam);
        });
    });

    addEventListener('exam-completed', function(e) {
        var i = e.detail;
        board.style.display = 'block';
        document.querySelector('#score').innerHTML = i.score;
        document.querySelector('#sc').innerHTML = i.score;
        //document.querySelector('#result').innerHTML = '花費時間:' + i.spendTime;
        //document.querySelector('#speak').innerHTML = '聆聽次數:' + i.speakTimes;
    });
    </script>
</body>

</html>